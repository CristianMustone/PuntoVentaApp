<app-navbar></app-navbar>

<div class="flex items-center justify-between mb-4">
  <!-- 🔍 Barra de búsqueda -->
  <div class="flex-1">
    <app-searchbar></app-searchbar>
  </div>

  <!-- 🛒 Botón ver carrito -->
  <button
    mat-raised-button
    color="primary"
    (click)="toggleCarrito()"
    class="ml-4 flex items-center gap-2 rounded-lg shadow-md hover:shadow-lg transition-all"
  >
    <mat-icon>shopping_cart</mat-icon>
    <span>Ver carrito</span>
  </button>
</div>

<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6">
  <app-product-card *ngFor="let producto of productos" [producto]="producto"></app-product-card>
</div>

<!-- Overlay oscuro -->
<div *ngIf="carritoVisible" class="fixed inset-0 flex items-center justify-center z-40">
  <!-- Contenedor del carrito -->
  <div class="relative w-96 bg-white shadow-2xl rounded-2xl flex flex-col z-50 overflow-hidden">
    <!-- Botón cerrar -->
    <div
      class="w-10 relative top-3 left-5 mb-4 bg-red-300 hover:bg-red-600 text-gray-600 hover:text-white shadow-md rounded-full transition"
    >
      <button mat-icon-button type="button" (click)="toggleCarrito()">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <!-- Contenido del carrito -->
    <app-cart></app-cart>
  </div>
</div>
